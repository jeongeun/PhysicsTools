# 1. Listup your input dataset

#2022 preEE rereco data, Muon and EGamma
das_client --query="dataset=/*Muon/Run2022*-22Sep2023-v1/NANOAOD" >> samples_22.txt 
das_client --query="dataset=/EGamma/Run2022*-22Sep2023-v1/NANOAOD" >> samples_22.txt
#DY bg
das_client --query="dataset=/WtoLNu*4Jets*MLNu*TuneCP5*13p6TeV*madgraphMLM*pythia8/Run3Summer22NanoAODv12*/NANO*SIM" >> samples_22.txt
das_client --query="dataset=/WtoLNu-2Jets_PTLNu-*_*J_TuneCP5_13p6TeV_amcatnloFXFX-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WtoLNu-2Jets_TuneCP5_13p6TeV_amcatnloFXFX-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/DYto2E_MLL-*/Run3Summer22NanoAODv12*/NANO*SIM" >> samples_22.txt
das_client --query="dataset=/DYto2Mu_MLL-*/Run3Summer22NanoAODv12*/NANO*SIM" >> samples_22.txt
das_client --query="dataset=/DYto2L-2Jets_MLL-50_TuneCP5_13p6TeV_amcatnloFXFX-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
#Diboson bg
das_client --query="dataset=/WW_TuneCP5_13p6TeV_pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WZ_TuneCP5_13p6TeV_pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/ZZto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WWtoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WWto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WWto4Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt 
das_client --query="dataset=/WZtoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WZtoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WZto2L2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WZto3LNu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/WZtoL3Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
#TTbar bg
das_client --query="dataset=/TTto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TTtoLNu2Q_TuneCP5_13p6TeV-powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
#SingleT bg
das_client --query="dataset=/TBbartoLplusNuBbar-s-channel-4FS_TuneCP5_13p6TeV_amcatnlo-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TbarBtoLminusNuB-s-channel-4FS_TuneCP5_13p6TeV_amcatnlo-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TBbarQ_t-channel_4FS_TuneCP5_13p6TeV_powheg-madspin-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TbarBQ_t-channel_4FS_TuneCP5_13p6TeV_powheg-madspin-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TbarWplustoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TWminustoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TbarWplusto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TWminusto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TbarWplusto4Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
das_client --query="dataset=/TWminusto4Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt
#QCD
das_client --query="dataset=/QCD_PT-*_TuneCP5_13p6TeV_pythia8/Run3Summer22NanoAODv12*/NANOAODSIM" >> samples_22.txt 

# final list
cat InputDataset_2018.txt  
cat InputDataset_2022.txt  


# 2. define your skimming list :keep and drop branch
cat ULskim_keep_and_drop.txt #2018
cat Run3_keep_and_drop.txt #2022 preEE

# 3. make crab cfg files to skimming your input datasets
> python3 genCrabconfig.py [Dataset List] [DirectoryName]
> python3 genCrabconfig.py InputDataset_2018.txt test_2018

# 4. crab submit (set proper output site in crab_cfg, T3_KR_KNU or KISTI as you want)
> cd 2022preEE/SingleMuon_Run2022B
> crab submit -c crab_cfg_SingleMuon_Run2018B.py

# automatic submit code if dry-run=True (not running just showing the command)
./submit_crab_jobs.sh <CrabWorkingDirectory> [--dry-run] [--parallel=N]

